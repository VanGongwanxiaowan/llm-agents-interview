「LLM, Reasoning」论文
L1: Controlling How Long A Reasoning Model Thinks With Reinforcement Learning

智慧不在于一味求索，而在于懂得根据问题的复杂性，伸缩思考的深度。

这篇论文非常出色，在test-time scaling的潮流中，直面了它的主要问题：即模型在推理过程中过于缓慢、冗长。

Test-time scaling的问题源于其自身特点——刻意增加LLM的推理长度，可以提升模型解决复杂问题的能力。

由于强化学习（RL）对scaling的鼓励，所谓的“aha moment”让模型倾向于过度地展示其思维过程：“一方面，另一方面，aha，wait，what if...”。模型似乎时刻用超高的latency考验用户的耐心。

这篇论文提出了LCPO（Length Controlled Policy Optimization，长度可控策略优化）的方法。

作者同样使用RL对模型进行优化，其核心是设计一个平衡准确性和长度遵循性的奖励函数，旨在训练语言模型在保持推理准确性的同时，尽量满足提示中对长度的要求。

论文最大的亮点： 模型能够根据提示中给出的要求，自适应地控制推理长度，从而有效节约计算资源。

两点思考：

Test-time scaling的方法特别适用于复杂的数学问题。但普通用户在使用这些模型时，有多少场景是在解决复杂的数学问题？大型模型公司完全可以借鉴这一方法，根据用户的query自动决定模型推理的合适长度。

强化学习带有一种强烈的rule-based（基于规则）的特点。这种特性会放大贴合规则的效果，但也容易忽略规则之外的因素。规则即是限制，因此阅读RL相关的文章时，我总有种“LLM在顾此失彼”的感觉。

OpenAI的Shunyu说：“RL finally works.” 
我不完全同意。我认为更准确地说，RL finally works with specific rules.

https://arxiv.org/abs/2503.04697

你知道 Claude Code 怎么控制思考时间长短的吗？在提示词里面说：“ultrathink”或者“think harder”或者“仔细思考”，那么它就会真的多思考一会。

不是玄学，而是写在代码里面的，Claude Code 把思考级别分成了 4 档：
- HIGHEST： 32K
- MIDDLE：10K
- BASIC：4K
- NONE： 0

举例来说，如果你说了“ultrathink”，那么它思考的 Token 最长可以到 32K Tokens，如果只说关键字“think”只有 4K，到了 4K 就结束了。如果这些关键字都没有，那么就不会调用 Think Tool（思考工具），直接开始任务。

---

 各语言触发关键词

 English (英语)
-   HIGHEST: "think harder", "think intensely", "think longer", "think really hard", "think super hard", "think very hard", "ultrathink"
-   MIDDLE: "think about it", "think a lot", "think deeply", "think hard", "think more", "megathink"
-   BASIC: "think"

 Chinese (中文)
-   HIGHEST: "多想一会", "深思", "仔细思考"
-   MIDDLE: "多想想", "好好想"
-   BASIC: "想", "思考"
-   NONE: (无关键词)

 Japanese (日语)
-   HIGHEST: "熟考", "深く考えて", "しっかり考えて"
-   MIDDLE: "もっと考えて", "たくさん考えて", "よく考えて", "長考"
-   BASIC: "考えて"

 Korean (韩语)
-   HIGHEST: "더 오래 생각", "깊이 생각", "심사숙고", "곰곰이 생각"
-   MIDDLE: "많이 생각", "더 생각", "잘 생각"
-   BASIC: "생각"

 Spanish (西班牙语)
-   HIGHEST: "piensa más", "piensa mucho", "piensa profundamente"
-   MIDDLE: "piensa"
-   BASIC: "pienso", "pensando"

 French (法语)
-   HIGHEST: "réfléchis plus", "réfléchis beaucoup", "réfléchis profondément"
-   MIDDLE: "réfléchis"
-   BASIC: "pense", "réfléchir"

 German (德语)
-   HIGHEST: "denk mehr", "denk gründlich", "denk tief"
-   MIDDLE: "denk nach", "denk"
-   BASIC: "denke", "nachdenken"

 Italian (意大利语)
-   HIGHEST: "pensa di più", "pensa a lungo", "pensa profondamente", "rifletti a fondo"
-   MIDDLE: "pensa", "pensa molto", "rifletti"
-   BASIC: "penso", "pensare", "pensando", "riflettere"

<img width="603" height="1199" alt="image" src="https://github.com/user-attachments/assets/3d16fbdb-0422-4018-b3a2-930efa71f0a3" />

<img width="914" height="2048" alt="image" src="https://github.com/user-attachments/assets/6a92f14c-d50e-4c47-837c-395f81324df0" />

<img width="654" height="900" alt="image" src="https://github.com/user-attachments/assets/68a43ccc-e51f-41ca-876c-61eb0bfe0675" />

