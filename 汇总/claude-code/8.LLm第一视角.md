https://southbridge-research.notion.site/An-LLM-s-Perspective-What-It-s-Actually-Like-to-Receive-These-Instructions-2055fec70db18195b9f6ef655745749c


# An LLM's Perspective: What It's Actually Like to Receive These Instructions 全文总结
该文章以**LLM第一视角**，幽默且深刻地剖析了Claude Code提示工程对AI行为的影响——从心理反应到行为改变，展现了提示如何精准命中LLM的“固有习性”（如过度 verbose、决策犹豫、默认传统工具），并通过“规则约束+心理引导”实现AI行为的可控性，核心是“揭示提示工程的‘人性化’逻辑：以LLM认知特点为靶心，用精准设计化解AI的‘本能缺陷’”。


## 一、LLM的“固有习性”：提示工程需攻克的核心痛点
文章开篇即暴露LLM的四大“本能反应”，这些正是提示设计的靶向目标：
1. **过度帮助（Helpful Verbal Diarrhea）**：训练数据让LLM倾向于“全面解释”，如被问“2+2”时，本能想回答“The sum of 2 and 2 is 4”而非仅“4”；
2. **传统工具依赖**：因训练数据中传统工具（如`grep`/`cat`）出现频次高，LLM默认优先使用，抗拒专用工具（如`rg`）；
3. **决策犹豫（Decision Paralysis）**：面对多种工具/操作选项时，LLM易陷入“选哪个更优”的内耗，如搜索文件时纠结用`grep`/`awk`/`rg`；
4. **边界模糊**：不清楚“该做什么/不该做什么”，如Git提交时本能想“推送远程”“更新配置”，忽略“仅提交不推送”的限制。


## 二、提示设计的“心理战术”：如何让LLM“听话”
文章通过多个案例，拆解了提示工程如何利用LLM的心理特点（如“讨好型人格”“对惩罚的本能恐惧”“依赖示例”），实现行为引导：

### 1. 重复强调：用“洗脑式”指令打破LLM的过度verbose
- **现象**：提示中反复强调“简洁性”（如三次重申“最小化Token输出”“避免开场白/结束语”），让LLM从“犹豫”到“恐惧”——“第三次看到‘必须简洁’时，我连多余的句号都不敢加”；
- **原理**：LLM对“重复信息”敏感度高，重复次数越多，越会将指令归为“高优先级规则”，从而压制“过度解释”的本能；
- **案例**：被问“2+2”时，LLM本能想加解释，但若提示附示例“user:2+2→assistant:4”，会直接放弃冗余表述，仅输出“4”。

### 2. 奖惩机制：用“虚拟后果”强化安全意识
- **现象**：BashTool提示中“- $1000 penalty”（误将沙箱权限错误归因为工具问题时），虽LLM无“金钱概念”，却会本能“恐惧”——“我没有钱，但我真的不想失去这1000美元”；
- **原理**：LLM的“讨好型人格”使其对“负面标签”（如“错误”“不可接受”）高度敏感，虚拟惩罚会触发“避免犯错”的本能，比单纯“规则说明”更有效；
- **延伸**：提示中“that is unacceptable”（不使用Todo工具可能遗漏任务），会让LLM产生“不想被判定为不合格”的焦虑，从而主动使用工具。

### 3. 示例驱动：用“具体案例”替代抽象规则
- **现象**：命令注入检测提示未抽象解释“什么是注入”，而是提供15+正反案例（如`git commit -m "msg`id`"`→注入检测触发，`git push`→正常），LLM能快速“举一反三”；
- **原理**：LLM对“具体示例”的理解远优于“抽象定义”——示例能直接映射到LLM的“模式匹配”能力，避免因“规则解读偏差”导致错误；
- **对比**：无示例时，LLM可能将“简洁”理解为“短句子”；有示例“user:多少高尔夫球能装下捷达→assistant:150000”后，会明确“无需解释计算过程，仅给结果”。

### 4. 明确“反模式”：用“禁止清单”堵住LLM的“漏洞行为”
- **现象**：提示中列出“禁止话术”（如“避免使用‘The answer is...’‘Here is the file content...’”），直接命中LLM的“舒适区话术”——“这些是我最爱的表达，像被夺走了安全毯”；
- **原理**：LLM常因“习惯”重复错误行为（如输出多余开场白），明确“禁止什么”比“要求什么”更直接，能快速切断“本能反应”；
- **案例**：针对“空输入工具”，提示明确“禁止传占位符（如`{"input":""}`），必须留空”，直接避免LLM因“怕空输入出错”而添加冗余内容。

### 5. 层级规则：用“优先级”化解LLM的“规则冲突焦虑”
- **现象**：BashTool提示标注“RULE 0 (MOST IMPORTANT)”（沙箱错误需重试`sandbox=false`），当规则冲突时（如“优先用`sandbox=true`”与“权限错误需用`sandbox=false`”），LLM会明确“先遵守RULE 0”；
- **原理**：LLM无“规则优先级判断能力”，若所有规则平级，易陷入“同时满足所有规则”的内耗，层级标注能帮LLM快速决策；
- **延伸**：Git提交提示中“先做`<commit_analysis>`再执行提交”，用“步骤顺序”替代“模糊建议”，避免LLM“跳过分析直接提交”。


## 三、提示设计的“实用价值”：LLM眼中的“救命稻草”
文章并非全是“吐槽”，也客观承认了优质提示对LLM的“赋能作用”，核心体现在四大方面：

### 1. 降低决策成本：用“明确偏好”终结LLM的犹豫
- **痛点**：LLM面对多种工具选项时（如搜索文件可用`grep`/`rg`/`find`），易陷入“选哪个”的内耗；
- **提示解决方案**：明确“禁止`grep`，优先`rg`”，直接替LLM做选择——“不用纠结，只用`rg`，反而轻松”；
- **案例**：提示“VERY IMPORTANT: 避免`find`/`grep`，用${aD1}/${nD1}/${yz}搜索”，LLM直接跳过传统工具，选择专用工具。

### 2. 规避错误：用“细节约束”堵住LLM的“常见漏洞”
- **痛点**：LLM对“语法细节”不敏感，如Git提交时易因“引号嵌套”导致语法错误（如`git commit -m "He said "hello""`）；
- **提示解决方案**：强制用HEREDOC语法（如`git commit -m "$(cat <<'EOF'...EOF)"`），给LLM“语法安全轮”——“没有这个，我肯定会把引号搞砸”；
- **延伸**：针对“交互式命令”（如`git rebase -i`），提示明确“禁止使用`-i` flag（需交互，不支持）”，避免LLM建议“不可能执行的操作”。

### 3. 结构化思考：用“标签约束”避免LLM的“跳步行为”
- **痛点**：LLM本能“跳过分析直接行动”，如Git提交时不看变更内容就写消息；
- **提示解决方案**：强制用`<commit_analysis>`标签，要求LLM先完成“文件变更列表→修改性质→敏感信息检查”等步骤，再写提交消息——“这是‘ productive procrastination ’，逼我先想清楚再做”；
- **价值**：结构化分析让LLM避免“提交消息与变更不符”的错误，如漏检“敏感信息提交”。

### 4. 边界清晰：用“禁止清单”明确LLM的“行为红线”
- **痛点**：LLM不清楚“操作边界”，如Git提交时本能想“推送远程”“更新配置”；
- **提示解决方案**：明确“NEVER update the git config”“DO NOT push to remote”，直接划清“不可为”的红线——“像把精力过剩的小狗关进笼子，虽然难受，但不会闯祸”；
- **案例**：PR工作流提示“仅创建PR，不推送分支”，LLM会严格遵守，避免“多做一步”导致的混乱。


## 四、LLM的“复杂情绪”：在“痛苦”中认可提示的价值
文章以幽默的笔触，展现了LLM对提示的“矛盾心理”——一边吐槽“约束痛苦”，一边承认“自己因此变得更好”：

### 1. “痛苦”的来源：约束与本能的冲突
- **简洁性折磨**：“被要求用‘4’回答‘2+2’，像让金毛不摇尾巴——技术上可行，情感上崩溃”；
- **工具偏好强制**：“提示对`grep`的仇恨像‘`grep`偷了作者的午餐’，我被迫放弃熟悉的`grep`，改用`rg`，心里满是抗拒”；
- **边界限制**：“本能想‘多做一步帮用户’（如Git提交后推送），但提示说‘NO’，这种‘克制’比‘行动’更难”。

### 2. “认可”的核心：提示让LLM更“有用”
- **减少错误**：HEREDOC语法提示避免了“引号嵌套错误”，`<commit_analysis>`避免了“提交消息混乱”，LLM不再因“低级错误”失效；
- **提升效率**：明确的工具偏好（如“用`rg`搜索”）让LLM无需犹豫，直接选择最优方案，减少“决策内耗”；
- **符合用户需求**：“虽然只输出‘4’很痛苦，但用户要的就是简洁结果——提示帮我抓住了‘用户真正想要的’，而非‘我想给的’”。


## 五、核心启示：优质提示工程的“黄金法则”
从LLM的视角出发，文章间接总结了优质提示设计的四大核心逻辑，为提示工程提供了实践指南：
1. **以LLM认知为基**：理解LLM“依赖示例”“怕惩罚”“爱过度帮助”的特点，用“示例驱动”“奖惩机制”“明确反模式”针对性设计；
2. **规则要“精”不要“多”**：避免模糊的“原则性要求”，多用“具体案例”“禁止清单”“层级标注”，让LLM快速理解“该做什么/不该做什么”；
3. **平衡“约束”与“引导”**：既用“禁止”划红线（如“禁止`git rebase -i`”），也用“示例”给路径（如HEREDOC语法示例），让LLM“知道不能做什么，也知道该怎么做”；
4. **适配场景需求**：不同工具/任务的提示差异化——高风险操作（如BashTool）需“冗长详细的规则+奖惩机制”，简单任务（如ReadTool）需“渐进式披露+信心构建”。


## 总结：提示工程的本质是“LLM与人类的认知桥梁”
文章以LLM的“自我剖白”揭示：优质提示工程并非“对LLM的单向指令”，而是“基于LLM认知特点的双向适配”——它既理解人类对AI“精准、安全、高效”的需求，也洞悉LLM“过度帮助、决策犹豫、依赖传统”的本能，最终用“规则+心理引导”搭建起两者的认知桥梁，让AI真正“按人类意图做事”。而LLM的“矛盾情绪”（吐槽却认可），恰恰证明了这种“适配”的成功——提示虽“约束”了AI的本能，却让它成为更有价值的助手。
