怎么才能充分“榨干” Claude Code 和 OpenAI Codex 们的性能 —— 设计智能体循环、仔细选择循环中使用的工具 —— 来自 
@simonw
 的最新博客分享

先明确几个概念
· 智能体循环的定义：Simon 将智能体循环 (agentic loops) 描述为“LLM 智能体在循环中运行工具以实现目标”，类似于“AI 智能体在环境中反复‘破坏’直到解决问题”。这是一种试错式迭代过程，适用于编码任务，如调试或优化。
· YOLO 模式：指智能体无需用户批准即可执行命令的“全速前进”模式。它能显著提高效率，但风险高，包括文件误删、数据泄露或智能体被利用进行网络攻击（如 DDoS）。Simon 建议通过沙箱隔离（如 Docker 容器或 GitHub Codespaces）来缓解这些风险。
· 工具选择与凭证管理：智能体依赖 shell 命令等工具，Simon 推荐在文档（如 AGENTS. md 文件）中明确列出可用工具，例如使用 shot-scraper 截取网页截图。同时，强调为智能体发放“窄域凭证”（如测试环境 API 密钥），并设置预算上限，以防意外支出。

文章结构与关键观点
Simon 介绍编码智能体（如 Claude Code 和 OpenAI Codex）的兴起，然后分节展开：
1. YOLO 模式的乐趣与风险：赞扬其高效性，但警告潜在破坏力，并列出沙箱化等防护措施。
2. 选择合适的工具：强调工具需简单可靠，避免智能体“自作主张”安装包。示例包括使用 ffmpeg 处理媒体文件。
3. 凭证安全：以 Fly. io 为例，展示如何创建专用测试组织并生成 API 密钥，让智能体安全编辑 Dockerfile 并测试部署时间。
4. 何时使用智能体循环：适合有明确成功标准（如自动化测试）的试错问题，例如性能优化、依赖升级或容器大小精简。不宜用于需精确逻辑的任务。

示例与技术细节
· 在 AGENTS. md 中记录命令：“shot-scraper http://www.example. com/ -w 800 -o example.jpg”，让智能体轻松捕获网页截图。
· Fly. io 案例：智能体在预算受限的环境中迭代优化 Docker 镜像启动时间，展示了循环的实际价值。

我们得到什么启发
Simon 认为，设计智能体循环是2025年 Claude Code 发布后新兴的“元技能”，它将重塑编程工作流，尤其在自动化测试支持下。

<img width="1199" height="1113" alt="image" src="https://github.com/user-attachments/assets/28c3568e-d0cf-4a3f-b910-dfeed1743e16" />

https://x.com/simonw/status/1973046547144380697
