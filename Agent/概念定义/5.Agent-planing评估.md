### 5. Agent中planning能力的常用评估指标
评估 Agent（LLM）的planning能力，是衡量其实际应用价值的关键环节。本文将介绍一套较为全面的指标体系，涵盖从基础的成功率到更高级的人机交互质量等多个维度，用于衡量 Agent（LLM）的规划水平。
Planning能力的评估可以分为五个关键指标：**正确性与精确度**、**效率与最优性**、**一致性与合理性**、**工具使用**，以及**人机交互**。

### 5.1 正确性与精确度指标
正确性的目标在于评估智能体是否能够准确、无误地完成任务，这是最基本的评估维度。常见的衡量指标是**成功率（Success Rate, SR）**，可细分为：

<img width="893" height="478" alt="image" src="https://github.com/user-attachments/assets/785486f3-103f-4cc5-8c9d-8c56c9c8fa62" />


#### 5.1.1 响应成功率（Response Success Rate）
衡量智能体文本回答与标准答案的一致性。
- 例如，在 WebArena: A Realistic Web Environment for Building Autonomous Agents 中，通过计算三个实例化函数 —— exact_match（完全匹配）、must_include（必须包含）、fuzzy_match（模糊匹配）—— 来评估预测结果与答案的一致程度。

#### 5.1.2 步骤成功率（Step Success Rate）
衡量预测的单步动作与**专家标注**的一致性。
- 例如，在 Mind2Web 中，用于评价预测单步动作与人工标注动作的一致性；在 FlowBench 中，则通过 GPT - 4 与预设的评分模板直接对轨迹的正确性进行打分。

#### 5.1.3 基于状态的成功率（State - Based Success Rate）
由于达成目标的路径可能不唯一，一些指标基于环境状态进行评估，以解决路径多样性的问题。
- 例如，最终状态成功率（final - state SR）通过在程序执行过程中构建最终状态检查点，来判断环境是否达到预期状态。另一些指标则关注中间检查点的得分，如 TheAgentCompany 提出的 Partial Completion Score，用于检测中间子任务是否完成。

### 5.2 效率与最优性指标
除了基本的成功率外，planning 还强调**执行效率与规划结果的最优性**，这类指标主要包括：

#### 5.2.1 执行效率指标（Execution Efficiency Metrics）
衡量执行计划过程中的操作经济性，例如完成任务所需的**动作数量**。
- 在 LangSuit - E 中表现为 Average Steps（平均步骤数），在 PARTNR 中则为 Simulation Steps（模拟步骤数），其原则是**越少越好**。

#### 5.2.2 规划最优性（Plan Optimization）
进一步评估在可行方案中，所选择的计划是否在任务标准下最小化了资源消耗。
- 典型框架如 PlanBench 在研究中涉及的方法，在生成计划的同时，额外引入了**“Cost - Optimal Planning”（成本最优规划）**，每个规划动作都附带一个成本（cost）。这个成本可以映射为执行时间、金钱等常识概念。

### 5.3 一致性与合理性指标
此类指标旨在**确保生成的计划不仅符合用户指令，还能满足环境约束**，从而在现实场景中具备可行性。
可进一步细分为：

#### 5.3.1 约束满足性（Constraint Satisfaction）
关注计划在客观条件下的技术可行性。
- 例如，**环境约束遵守度（Environmental Constraint Adherence）** 用于评估计划是否遵守外部限制。ChinaTravel 引入了 Environmental Pass Rate，用于衡量对预设环境约束的满足度。
- 同时，**动作可执行性（Action Executability）** 用于评估每一步计划是否能在给定的动作集合中实现。Open Grounded Planning 提出了 executableness 指标，以验证计划步骤是否存在于动作库中。

#### 5.3.2 认知连贯性（Cognitive Coherence）
关注计划是否符合人类常识性推理及逻辑一致性。
- 例如，常识一致性（Commonsense Alignment）衡量计划是否符合日常人类预期和直观合理性。逻辑一致性（Logical Coherence）则评估计划步骤之间是否逻辑自洽、无矛盾。

### 5.4 工具使用的评估指标
为了系统评估大模型的工具使用能力，可进一步细分为 **工具调用精度（Tool Invocation Precision）**。
其核心在于**评估智能体是否能够正确选择和操作外部工具，包括识别正确的接口元素并填写必要参数**。
- **工具选择准确率（Tool Selection Accuracy）**：衡量任务中是否选择了正确的工具。TaskBench 使用 Node F1 和 Edge F1 来评估。
- **参数填充准确率（Parameter Specification Accuracy）**：评估智能体在调用工具时是否正确填写了参数。TaskBench 提出了 Parameter Name F1 与 Parameter Name - Value Pair F1，以衡量参数生成的准确性。

### 5.5 人机交互指标
从用户体验的角度，衡量规划系统的整体性能与实际应用价值。其重点在于体现技术之外的**可用性**、**认知负担**与**用户满意度**等关键因素，这些最终决定了系统在现实中的采纳与效果。
- 常见维度包括：协作流畅性、解释清晰度等。

### 5.6 小结
- Planning 能力的评估可以分为五个关键指标：正确性与精确度、效率与最优性、一致性与合理性、工具使用，以及人机交互。
