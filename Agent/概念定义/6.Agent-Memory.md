### 6. Agent Memory
#### 6.1 谈谈 Memory

记忆可以定义为获取、存储、保留和后续检索信息的过程。

人脑中有几种类型的记忆。

<img width="1034" height="408" alt="image" src="https://github.com/user-attachments/assets/a352f15f-7854-4faf-acd6-11ecbd7efa5e" />

来源: https://lilianweng.github.io.posts/2023-06-23-agent/

1. **感知记忆（Sensory memory）**：这是记忆的最早阶段，能够在原始刺激结束后保留感觉信息（视觉、听觉等）的印象能力。感觉记忆通常只持续几秒钟。子类包括图像记忆（视觉）、回声记忆（听觉）和触觉记忆（触感）。

2. **短期记忆（Short-term memory）** 或**工作记忆（Working Memory）**：它存储我们目前意识到并需要进行复杂认知任务（如学习和推理）所需的信息。短期记忆被认为具有**大约7个项目的容量**（Miller 1956），并持续20 - 30秒。
    - Short-term memory is believed to have the capacity of about 7 items (Miller 1956) and lasts for 20 - 30 seconds.
    - 人在短期记忆中能同时保留的信息数量是有限的。
    - 这里的“项目（items）”并不一定是一个单一的字或数字，而是一个有意义的单位。比如电话号码“138 - 246 - 802”，我们往往会把它分成三段来记（138 / 246 / 802），每一段就算作一个“项目”。
    - 这个结论来自心理学家 George A. Miller 在1956年的经典研究，也被称为“神奇的数字7±2”。
3. **长期记忆（Long-term memory.）**：长期记忆可以将信息存储在一个非常长的时间内，从几天到几十年不等，并且具有几乎无限的存储容量。长期记忆有两个子类型：
    - **显性/陈述性记忆（Explicit / declarative memory）**：这是指事实和事件的记忆，指的是那些可以有意识地回忆起来的记忆，包括情景记忆（事件和经历）和语义记忆（事实和概念）。
    - **隐式/程序性记忆（Implicit / procedural memory）**：这种记忆是无意识的，涉及到自动执行的技能和例行公事，比如骑自行车或者键盘打字。
#### 6.2 Memory 的定义
我们可以从“狭义”和“广义”两个层面定义 Agent 的 Memory：
- **狭义 Memory**：一般指那些在当前会话或任务中临时存储与检索信息的模块，比如上下文片段、短期记忆，这通常通过文本形式（如对话历史）存在。
- **广义 Memory**：涵盖更长时间跨度、跨会话的经验、知识和外部资源，例如 Agent 自学得到的经验、外部知识库或参数化记忆等。
#### 6.3 LLM - based Agent 需要 Memory 的必要性（为什么需要）
**认知心理学视角**：
- 人类通过记忆积累经验、抽象知识、形成行为习惯。**Agent 若要具有人类般的认知能力，其设计自然应借鉴记忆机制。**
**自我进化（Self - Evolution）角度**：
- 经验积累：记住失败或错误的策略，有助于未来做得更好。
- 环境探索：记忆帮助更好地选择探索策略，如优先尝试失败过的行动。
- 知识抽象：从原始观测中抽象出更高层次的信息，从而提升泛化与适应能力。
**实际任务应用视角**：
- 对话 Agent 需要记住以前的对话内容才能保持上下文连续性。
- 模拟 Agent（如角色扮演场景）需要保持角色一致性，不会偏离设定。
